<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>JavaScript Testing: Completing the BDD Circle in Web Development by Trevor Lalish-Menagh (@trevmex)</title>
    
    <meta name="description" content="JavaScript Testing: Completing the BDD Circle in Web Development" />
    <meta name="author" content="Trevor Lalish-Menagh" />

    <link href="http://fonts.googleapis.com/css?family=Oxygen|PT+Mono" rel="stylesheet" />

    <link href="css/js-testing-presentation.css" rel="stylesheet" />
    <link type="text/css" href="css/code-highlighter.css" rel="stylesheet" />
    
    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />

    <script src="js/clean_tumblr_pre.js"></script>
</head>

<body class="impress-not-supported">

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div id="impress">

    <div id="intro" class="step slide" data-x="0" data-y="0" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0" data-scale="10">
        <h1>JavaScript Testing</h1>
        <h2>Completing the BDD Circle in Web Development</h2>
        <div class="speaker-info">
            Trevor Lalish-Menagh, a guy who wants you to test your code
            <a href="http://www.twitter.com/#!/trevmex">@trevmex</a><br />
            <a href="http://trevmex.com">http://www.trevmex.com</a>
        </div>
    </div>

    <div id="cisq" class="step slide" data-x="15000" data-y="0" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0" data-scale="10">
        <p>CISQ: Consortium for IT Software Quality says...</p>
        <ul>
            <li>Reliability</li>
            <li>Efficiency</li>
            <li>Security</li>
            <li>Maintainability</li>
            <li>Size</li>
        </ul>
    </div>

    <div id="but_really" class="step slide" data-x="30000" data-y="0" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0" data-scale="10">
        <p>but really...</p>
    </div>

     <div id="engineer" class="step" data-x="30000" data-y="0" data-z="0" data-rotate-x="90" data-rotate-y="0" data-rotate="0" data-scale="10">
        <span>You are an engineer.</span>
    </div>

    <div id="quality" class="step" data-x="30000" data-y="0" data-z="0" data-rotate-x="90" data-rotate-y="90" data-rotate="0" data-scale="10">
        <span>Engineers produce <b>quality work</b>.</span>
    </div>

     <div id="care" class="step" data-x="-9000" data-y="0" data-z="0" data-rotate-x="90" data-rotate-y="90" data-rotate="0" data-scale="1">
         <span>Quality work is work that you <b>care about</b>.</span>
    </div>

     <div id="proud" class="step" data-x="-9000" data-y="0" data-z="0" data-rotate-x="90" data-rotate-y="0" data-rotate="0" data-scale="1">
         <span>Work that you are <b>proud to show off</b>.</span>
    </div>

     <div id="change" class="step" data-x="-9000" data-y="0" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0" data-scale="1">
         <span>Work that you are <b>not afraid to change</b>.</span>
    </div>

    <div id="javascript" class="step" data-x="-9000" data-y="1500" data-z="1500" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <span>You write</span>
        <span><b>JavaScript</b>.</span>
    </div>
        
    <div id="hard" class="step" data-x="-9000" data-y="3000" data-z="3000" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p>Writing <b>quality</b> JavaScript is hard...</p>
    </div>
        
    <div id="to-do" class="step" data-x="-9000" data-y="4500" data-z="3000" data-rotate-x="0" data-rotate-y="180" data-rotate="0">
        <p>You have to know what <b>to do</b>...</p>
    </div>
        
    <div id="namespace" class="step" data-x="-7500" data-y="4500" data-z="1500" data-rotate-x="0" data-rotate-y="180" data-rotate="90">
        <p><a href="http://javascriptweblog.wordpress.com/2010/12/07/namespacing-in-javascript/">Namespace</a> your functions...</p>
        <pre>
            <code class="javascript">
var AwesomeNS = {};<br/>
AwesomeNS.rockstar = function () {
    // Good job, rockstar!
}
            </code>
        </pre>
    </div>
        
    <div id="function-level-scope" class="step" data-x="-4500" data-y="4500" data-z="0" data-rotate-x="0" data-rotate-y="180" data-rotate="180">
        <p>Declare your <a href="http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting">vars up top</a>...</p>
        <pre>
            <code class="javascript">
AwesomeNS.rockstar = function () {
    var thisIsHow = "we do it";<br/>
    // No block scope, here!
}
            </code>
        </pre>
    </div>
        
    <div id="iife" class="step" data-x="-1500" data-y="4500" data-z="0" data-rotate-x="0" data-rotate-y="180" data-rotate="270">
        <p>Encapsulate your code in <a href="http://benalman.com/news/2010/11/immediately-invoked-function-expression/">IIFEs</a></p>
        <pre>
            <code class="javascript">
(function () {
    var giveAHoot = !pollute;<br/>
    // ...the global namespace!
}());
            </code>
        </pre>
    </div>
         
    <div id="not-to-do" class="step" data-x="-1500" data-y="7500" data-z="1500" data-rotate-x="0" data-rotate-y="180" data-rotate="90">
        <p>And what <b>not</b> to do...</p>
    </div>
        
    <div id="with" class="step" data-x="-1500" data-y="9000" data-z="1500" data-rotate-x="0" data-rotate-y="180" data-rotate="90">
        <p>Don't use <a href="http://www.yuiblog.com/blog/2006/04/11/with-statement-considered-harmful/">with</a>...</p>
        <pre>
            <code class="javascript">
bad = "hehe";
with (theNS) {
    // is this theNS.bad or bad.
    // Who knows!
    bad = "oh noes";
}
            </code>
        </pre>
    </div>
        
    <div id="globals" class="step" data-x="0" data-y="9000" data-z="1500" data-rotate-x="0" data-rotate-y="180" data-rotate="90">
        <p>Always remember your <a href="http://stackoverflow.com/questions/790558/variable-scope-in-javascript-for-loop">vars</a>...</p>
        <pre>
            <code class="javascript">
function derp() {
    for (i = 0; i &lt; 10; i++) {
        // You just modified
        // the global 'i'!
    }
}
            </code>
        </pre>
    </div>

        
    <div id="eval" class="step" data-x="0" data-y="7500" data-z="1500" data-rotate-x="0" data-rotate-y="180" data-rotate="90">
        <p>Stop abusing <a href="http://24ways.org/2005/dont-be-eval">eval</a>...</p>
        <pre>
            <code class="javascript">
var property = 'bar';
var value = eval('foo.' + property);<br />
value = foo[property]; // Good!
            </code>
        </pre>
    </div>

    <div id="but2" class="step" data-x="1500" data-y="7500" data-z="3000" data-rotate-x="0" data-rotate-y="180" data-rotate="90">
        <p>But you know all that.</p>
    </div>

    <div id="because" class="step" data-x="1500" data-y="7500" data-z="3000" data-rotate-x="0" data-rotate-y="90" data-rotate="90">
        <p>Because you are a rockstar!</p>
    </div>

    <div id="no" class="step" data-x="1500" data-y="9000" data-z="3000" data-rotate-x="0" data-rotate-y="90" data-rotate="0">
        <p>Come on...</p>
        <p>None of us are perfect.</p>
    </div>

    <div id="we-all" class="step" data-x="4500" data-y="4500" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p>We all write bad code.</p>
    </div>

    <div id="especially" class="step" data-x="3000" data-y="4500" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p>Especially <b>JavaScript</b>.</p>
    </div>

    <div id="write-tests" class="step" data-x="1500" data-y="4500" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p>So we write tests.</p>
    </div>

    <div id="tests-in-js" class="step" data-x="0" data-y="4500" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p>Tests in JavaScript.</p>
    </div>

    <div id="run-in-ci" class="step" data-x="0" data-y="6000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p>And we run them in our <a href="http://jenkins-ci.org/">CI server</a>.</p>
    </div>

    <div id="break-the-build" class="step" data-x="1500" data-y="6000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p>Now front-end engineers can</p>
        <p><b>break the build.</b></p>
        <p>And that is a <b>very</b> good thing.</p>
    </div>

    <div id="lets-go" class="step" data-x="3000" data-y="6000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p>How to do it:</p>
        <ul>
            <li><a href="http://pivotal.github.com/jasmine/">Jasmine</a> (or <a href="http://docs.jquery.com/QUnit">QUnit</a>, <a href="http://en.wikipedia.org/wiki/List_of_unit_testing_frameworks#JavaScript">etc.</a>)</li>
            <li><a href="http://maven.apache.org/">Maven</a> (or <a href="http://ant.apache.org/">Ant</a>, <a href="http://rake.rubyforge.org/">Rake</a>, <a href="http://en.wikipedia.org/wiki/List_of_build_automation_software">etc.</a>)</li>
            <li><a href="http://jenkins-ci.org/">Jenkins</a> (or <a href="http://www.urbancode.com/html/products/anthillpro/default.html">AnthillPro</a>, <a href="http://en.wikipedia.org/wiki/Comparison_of_continuous_integration_software">etc.</a>)</li>
        </ul>
    </div>
 
    <div id="demo" class="step" data-x="3000" data-y="6000" data-z="0" data-rotate-x="90" data-rotate-y="0" data-rotate="0">
        <p>Live Coding Time!!!</p>
        <p>(I am such a fool...)</p>
    </div>
    
    <div id="jasmine" class="step" data-x="4500" data-y="6000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate="0">
        <p><b>Jasmine</b></p>
        <pre>
            <code class="javascript">
NS.greeter = function (name) {
    return 'Hello ' + name + '!';
};<br />
describe('greeter', function () {
    it('greets me', function () {
        expect(NS.greeter('Trevor')).toEqual('Hello Trevor!');
    });
});
            </code>
        </pre>
    </div>
    
    <div id="jasmine-callback" class="step" data-x="4500" data-y="6000" data-z="0" data-rotate-x="90" data-rotate-y="0" data-rotate="0">
        <p><b>Jasmine with Callbacks</b></p>
        <pre>
            <code class="javascript">
NS.runIfTrevor = function (name, callback) {
    if (name === 'Trevor') {
        callback(name);
    } else {
        console.log("You aren't Trevor!");
    }
};<br />
describe('runIfTrevor', function () {
    it('calls callback if Trevor', function () {
        var callback = jasmine.createSpy();
        NS.runIfTrevor('Trevor', callback);
        expect(callback).toHaveBeenCalledWith('Trevor');
    });
});            </code>
        </pre>
    </div>

    <div id="jasmine-ajax" class="step" data-x="4500" data-y="6000" data-z="0" data-rotate-x="90" data-rotate-y="90" data-rotate="0">
        <p><b>Jasmine with Ajax</b></p>
        <pre>
            <code class="javascript">
NS.greetUser = function (id) {
    return $.ajax({
        data: id,
        url: 'name.html',
        success: function (data) {
            NS.greeter(data.name);
        }
    });
};<br />
describe('greetUser', function () {
    it('calls greeter on success', function () {
        NS.greetUser(1);
        spyOn(NS, 'greeter');
        mostRecentAjaxRequest().response({
            status: 200,
            responseText: '{"name":"Trevor"}'
        });
        expect(NS.greeter).toHaveBeenCalledWith('Trevor');
    });
});
            </code>
        </pre>
    </div>

    <div id="overview" class="step website" data-x="1000" data-y="2000" data-z="0" data-rotate-x="-45" data-rotate-y="-45" data-rotate="-10" data-scale="12">
        <p><a href="http://trevmex.github.com/js-testing-presentation">http://trevmex.github.com/js-testing-presentation</a></p>
    </div>

</div>

<script src="js/impress.js"></script>

<script>
    document.addEventListener("impress:stepenter", function (e) {
        if (e.target.className.match(/.*website.*/) !== null) {
            e.target.style.display = "block";
        }
    }, false);
    impress().init();
</script>

</body>

</html>
